(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[0],{38:function(e,t,n){},39:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(32),s=n.n(c),i=(n(38),n(39),n(2)),o=n(6),u=n.n(o),h=n(10),l=n(12),j=n(13),p=n(15),b=n(14),d=n(18),v=n.n(d),m=n(5),O=n(0),x=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={movies:""},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=Object(h.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("https://api.themoviedb.org/3/trending/movie/day?api_key=c2a3095b3c93af2cd3988a9dd6f9ca00");case 2:t=e.sent,this.setState({movies:t.data.results});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.movies;return Object(O.jsx)(O.Fragment,{children:e.length>0&&Object(O.jsx)("ul",{children:e.map((function(e){return Object(O.jsx)("li",{children:Object(O.jsx)(m.b,{to:"/movies/".concat(e.id),children:e.original_title})},e.id)}))})})}}]),n}(a.Component),f=v.a.create({baseURL:"https://api.themoviedb.org/3",params:{api_key:"c2a3095b3c93af2cd3988a9dd6f9ca00"}}),g=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={query:"",movies:[],page:1},e.makeRequest=function(){var e=Object(h.a)(u.a.mark((function e(t,n){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new URLSearchParams({page:t,query:n,language:"en-US"}),e.next=3,f.get("search/movie?".concat(a.toString()));case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),e.handleChange=function(t){e.setState({query:t.target.value})},e.handleSubmit=function(){var t=Object(h.a)(u.a.mark((function t(n){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),e.props.history.push({search:"?query=".concat(e.state.query)}),t.next=4,e.makeRequest(e.state.page,e.state.query);case 4:a=t.sent,e.setState({movies:a.results});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=Object(h.a)(u.a.mark((function e(){var t,n,a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.location.search,!(n=new URLSearchParams(t)).has("query")){e.next=8;break}return a=n.get("query"),e.next=6,this.makeRequest(this.state.page,a);case 6:r=e.sent,this.setState({movies:r.results});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.query,a=t.movies;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(O.jsxs)("label",{children:["Movie",Object(O.jsx)("input",{type:"text",value:n,onChange:this.handleChange})]}),Object(O.jsx)("button",{type:"submit",children:"search"})]}),a&&Object(O.jsx)("ul",{children:a.map((function(t){return Object(O.jsx)("li",{children:Object(O.jsx)(m.b,{to:{pathname:"/movies/".concat(t.id),state:{from:{search:"".concat(e.props.location.search),pathname:e.props.location.pathname}}},children:t.original_title})},t.id)}))})]})}}]),n}(a.Component),y=n(16),w=function(e){var t=e.reviews;return t.length>0?Object(O.jsx)("p",{children:t[0].content}):Object(O.jsx)("p",{children:"We don't have any reviews for this movie"})},k=(n(65),function(e){var t=e.cast,n=e.url;return Object(O.jsx)("ul",{children:t.map((function(e){return Object(O.jsxs)("li",{children:[Object(O.jsx)("img",{height:"150",src:"".concat(n).concat(e.profile_path),alt:"actor"}),Object(O.jsxs)("p",{children:["Name: ",e.name]}),Object(O.jsxs)("p",{children:["Character: ",e.character]})]},e.id)}))})}),S="/",_="/movies",q="/movies/:movieId",U="/movies/:movieId/cast",C="/movies/:movieId/reviews",D=(n(66),function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={baseUrl:"https://image.tmdb.org/t/p/w500/",genres:null,id:null,original_title:null,overview:null,vote_average:null,backdrop_path:null,castList:null,reviewsData:null},e.handleGoBack=function(){var t=e.props,n=t.location,a=t.history;if(n.state&&n.state.from)return a.push(n.state.from);a.push(S)},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=Object(h.a)(u.a.mark((function e(){var t,n,a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.movieId,e.next=3,f.get("movie/".concat(t,"?append_to_response=videos,images"));case 3:return n=e.sent,this.setState(Object(y.a)({},n.data)),e.next=7,f.get("movie/".concat(t,"/credits?&language=en-US"));case 7:return a=e.sent,this.setState({castList:a.data.cast}),e.next=11,f.get("movie/".concat(t,"/reviews?&language=en-US&page=1"));case 11:r=e.sent,this.setState({reviewsData:r.data.results});case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.backdrop_path,a=t.baseUrl,r=t.original_title,c=t.overview,s=t.vote_average,o=this.props.match;return Object(O.jsx)(O.Fragment,{children:n&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("button",{className:"Back-btn",type:"button",onClick:this.handleGoBack,children:"Go back"}),Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)("img",{className:"movie-img",src:"".concat(a).concat(n),alt:r}),Object(O.jsxs)("div",{className:"description-container",children:[Object(O.jsx)("h1",{children:r}),Object(O.jsxs)("p",{children:["User score: ",s]}),Object(O.jsx)("h2",{children:"Overview"}),Object(O.jsx)("p",{children:c})]})]}),Object(O.jsxs)("ul",{className:"add-inf",children:["Additional information",Object(O.jsx)("li",{children:Object(O.jsx)(m.c,{to:{pathname:"".concat(this.props.match.url,"/cast"),state:this.props.location.state},children:"Cast"})}),Object(O.jsx)("li",{children:Object(O.jsx)(m.c,{to:{pathname:"".concat(this.props.match.url,"/reviews"),state:this.props.location.state},children:"Reviews"})})]}),Object(O.jsx)(i.a,{path:"".concat(o.path,"/cast"),render:function(t){return Object(O.jsx)(k,Object(y.a)(Object(y.a)({},t),{},{cast:e.state.castList,url:e.state.baseUrl}))}}),Object(O.jsx)(i.a,{path:"".concat(o.path,"/reviews"),render:function(t){return Object(O.jsx)(w,Object(y.a)(Object(y.a)({},t),{},{reviews:e.state.reviewsData}))}})]})})}}]),n}(a.Component)),R=function(){return Object(O.jsx)("p",{children:"Page is not found"})},L=function(){return Object(O.jsxs)("nav",{children:[Object(O.jsx)(m.c,{to:_,children:"Movies"}),Object(O.jsx)("br",{}),Object(O.jsx)(m.c,{to:S,children:"Home"})]})},M=function(){return Object(O.jsx)("header",{children:Object(O.jsx)(L,{})})},N=function(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(M,{}),Object(O.jsxs)(i.c,{children:[Object(O.jsx)(i.a,{exact:!0,path:S,component:x}),Object(O.jsx)(i.a,{exact:!0,path:_,component:g}),Object(O.jsx)(i.a,{path:q,component:D}),Object(O.jsx)(i.a,{path:U,component:k}),Object(O.jsx)(i.a,{path:C,component:w}),Object(O.jsx)(i.a,{component:R})]})]})};s.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(m.a,{children:Object(O.jsx)(N,{})})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.d729b7f2.chunk.js.map