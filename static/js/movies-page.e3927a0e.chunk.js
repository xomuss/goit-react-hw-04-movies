(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[5],{37:function(e,t,a){"use strict";var n=a(36),r=a.n(n).a.create({baseURL:"https://api.themoviedb.org/3",params:{api_key:"c2a3095b3c93af2cd3988a9dd6f9ca00"}});t.a=r},72:function(e,t,a){"use strict";a.r(t);var n=a(32),r=a.n(n),s=a(33),c=a(34),i=a(35),u=a(40),o=a(39),h=a(0),p=a(37),l=a(9),m=a(1),f=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,i=new Array(n),u=0;u<n;u++)i[u]=arguments[u];return(e=t.call.apply(t,[this].concat(i))).state={query:"",movies:[],page:1},e.makeRequest=function(){var e=Object(s.a)(r.a.mark((function e(t,a){var n,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new URLSearchParams({page:t,query:a,language:"en-US"}),e.next=3,p.a.get("search/movie?".concat(n.toString()));case 3:return s=e.sent,e.abrupt("return",s.data);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),e.handleChange=function(t){e.setState({query:t.target.value})},e.handleSubmit=function(){var t=Object(s.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),e.props.history.push({search:"?query=".concat(e.state.query)}),t.next=4,e.makeRequest(e.state.page,e.state.query);case 4:n=t.sent,e.setState({movies:n.results});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=Object(s.a)(r.a.mark((function e(){var t,a,n,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.location.search,!(a=new URLSearchParams(t)).has("query")){e.next=8;break}return n=a.get("query"),e.next=6,this.makeRequest(this.state.page,n);case 6:s=e.sent,this.setState({movies:s.results});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.query,n=t.movies;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(m.jsxs)("label",{children:["Movie",Object(m.jsx)("input",{type:"text",value:a,onChange:this.handleChange})]}),Object(m.jsx)("button",{type:"submit",children:"search"})]}),n&&Object(m.jsx)("ul",{children:n.map((function(t){return Object(m.jsx)("li",{children:Object(m.jsx)(l.b,{to:{pathname:"/movies/".concat(t.id),state:{from:{search:"".concat(e.props.location.search),pathname:e.props.location.pathname}}},children:t.original_title})},t.id)}))})]})}}]),a}(h.Component);t.default=f}}]);
//# sourceMappingURL=movies-page.e3927a0e.chunk.js.map